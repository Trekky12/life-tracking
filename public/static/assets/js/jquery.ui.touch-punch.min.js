
/*!
 * jQuery UI Touch Punch Fork 0.4.0
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","jquery-ui/mouse"],a)}else{a(jQuery)}}(function(e){e.support.touch="ontouchend" in document||"onpointerdown" in document||"onMSPointerDown" in document;if(!e.support.touch){return}var d=e.ui.mouse.prototype,f=d._mouseInit,h=d._mouseDestroy,j,c,b=150,i=5,g=750;function a(l,m){if(l.originalEvent.touches.length>1){return}var n=l.originalEvent.changedTouches[0],k=document.createEvent("MouseEvents");if(e(n.target).is("input")||e(n.target).is("textarea")){l.stopPropagation()}else{l.preventDefault()}k.initMouseEvent(m,true,true,window,1,n.screenX,n.screenY,n.clientX,n.clientY,false,false,false,false,0,null);l.target.dispatchEvent(k)}d._touchStart=function(l){var k=this,m=l.originalEvent.changedTouches[0];k._touchMoved=false;k._touchStartTime=new Date().getTime();k._touchStartX=m.clientX;k._touchStartY=m.clientY;if(j||!k._mouseCapture(m)){return}j=true;a(l,"mouseover");a(l,"mousemove");a(l,"mousedown");c=setTimeout(function(){if(!k._touchMoved){l.longTap=true;k._touchEnd(l)}},g)};d._touchMove=function(m){if(!j){return}var o=m.originalEvent.changedTouches[0];var l=new Date().getTime()-this._touchStartTime,k=Math.abs(o.clientX-this._touchStartX),n=Math.abs(o.clientY-this._touchStartY);if(l>b||k>i||n>i){this._touchMoved=true}a(m,"mousemove")};d._touchEnd=function(k){if(!j){return}a(k,"mouseup");a(k,"mouseout");if(!this._touchMoved){if(k.longTap){a(k,"contextmenu")}else{a(k,"click")}}clearTimeout(c);j=false};d._mouseInit=function(){var k=this;k.element.on({touchstart:e.proxy(k,"_touchStart"),touchmove:e.proxy(k,"_touchMove"),touchend:e.proxy(k,"_touchEnd")});if(navigator.userAgent.match("MSIE")){k.element.css("-ms-touch-action","none")}f.call(k)};d._mouseDestroy=function(){var k=this;k.element.off({touchstart:e.proxy(k,"_touchStart"),touchmove:e.proxy(k,"_touchMove"),touchend:e.proxy(k,"_touchEnd")});h.call(k)};return e}));