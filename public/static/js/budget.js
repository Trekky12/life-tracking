!function(e){e(document).ready(function(){function t(){e("select.form-control.category").chosen({width:"100%",disable_search:!0,placeholder_text_multiple:lang.categories})}function n(t){var n=t.parent().parent().find(".category_costs");n.html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i>'),e.ajax({url:jsObject.get_category_costs,method:"GET",data:{category:t.val()},success:function(e){var t="";t=e.value>0?e.value+" "+i18n.currency:"-",n.html(t)},error:function(e){alert(e)}})}t(),e("select.category").each(function(){n(e(this))});var a=e("#budgetTemplate").html();Mustache.parse(a),e("#add_budget").on("click",function(n){n.preventDefault();var c=e(".budget-entry").length,r=Mustache.render(a,{index:c});e("#budgetForm .budget-entry.remaining").before(r),t(),c++}),e("body").on("change","select.category",function(t){var a=e(this);n(a);var c=a.parent().parent().find("input.description");0===c.val().length&&c.val(a.find("option:selected").text())}),e("body").on("click",".btn-delete",function(t){e(this).data("url")||(t.preventDefault(),e(this).parent().remove())}),e("body").on("change keyup","input.value",function(t){var n=parseFloat(e("#remaining_budget").data("income")),a=0;e("input.value").each(function(){a+=parseFloat(e(this).val())}),e("#remaining_budget").text(n-a)})})}(jQuery);