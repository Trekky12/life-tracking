"use strict";function add_save_dataset_function(){document.querySelectorAll("span.save_crawler_dataset").forEach((function(a,e){a.addEventListener("click",(async function(e){var t={state:a.classList.contains("is_saved")?0:1,dataset:a.dataset.id};if(a.classList.contains("is_saved")&&!await confirmDialog(lang.really_unsave_dataset))return!1;getCSRFToken().then((function(a){return t.csrf_name=a.csrf_name,t.csrf_value=a.csrf_value,fetch(jsObject.crawler_dataset_save,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})).then((function(a){return a.json()})).then((function(a){allowedReload=!0,window.location.reload()})).catch((function(a){if(console.log(a),document.body.classList.contains("offline")){let a=new URLSearchParams(t).toString();saveDataWhenOffline(jsObject.crawler_dataset_save,"POST",a)}}))}))}))}add_save_dataset_function(),crawlersDataSavedTable.on("update",(function(a){add_save_dataset_function()}));