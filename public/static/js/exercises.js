"use strict";const exercisesAvailable=document.querySelector("#exercises_available"),exercisesList=document.querySelector("#exercises_available_list"),loadingIconExercises=document.querySelector("#loadingIconExercises"),loadMoreExercises=document.querySelector("#loadMoreExercises"),filterBodyparts=document.getElementById("filterBodyParts"),isEdit="1"===exercisesAvailable.dataset.edit;function getExercises(){if(null!==exercisesList){let e=exercisesList.querySelectorAll(".exercise").length,s=10,t=filterBodyparts.value;loadingIconExercises.classList.remove("hidden"),loadMoreExercises.classList.add("hidden");let i=jsObject.workouts_exercises_get+"?count="+s+"&start="+e+"&bodypart="+t;return isEdit||(i+="&full=1"),fetch(i,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){if("error"!==t.status){loadingIconExercises.classList.add("hidden");let i=parseInt(t.count);e+s<i&&loadMoreExercises.classList.remove("hidden"),exercisesList.insertAdjacentHTML("beforeend",t.data)}})).catch((function(e){console.log(e)}))}return emptyPromise()}function loadMoreExercisesFunctions(){if(null!==loadMoreExercises){loadMoreExercises.addEventListener("click",(function(e){getExercises()}));let e=100;isEdit?exercisesAvailable.addEventListener("scroll",(function(){exercisesAvailable.scrollTop>0&&exercisesAvailable.scrollTop+exercisesAvailable.clientHeight+e>=exercisesAvailable.scrollHeight&&(loadMoreExercises.classList.contains("hidden")||getExercises())})):document.addEventListener("scroll",(function(){let s=document.body,t=document.documentElement;(t.scrollTop>0&&t.scrollTop+t.clientHeight+e>=t.scrollHeight||s.scrollTop>0&&s.scrollTop+s.clientHeight+e>=s.scrollHeight)&&(loadMoreExercises.classList.contains("hidden")||getExercises())}))}}document.addEventListener("DOMContentLoaded",(function(){loadMoreExercisesFunctions(),getExercises()})),filterBodyparts.addEventListener("change",(function(e){exercisesList.innerHTML="",getExercises()}));