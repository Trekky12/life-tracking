
(function(a){a(document).ready(function(){moment.locale(i18n.template);a.datepicker.setDefaults(a.datepicker.regional[i18n.template]);a("#go-back-btn").on("click",function(h){window.history.back()});a("#cancel").on("click",function(h){h.preventDefault();window.history.back()});a("body").on("click",".btn-delete",function(i){i.preventDefault();var h=a(this).data("url");e(h)});function e(h){if(!confirm(lang.really_delete)){return false}a.ajax({url:h,method:"DELETE",success:function(i){window.location.reload()},error:function(i){alert(i)}})}var g=a("#fromSelect").datepicker({defaultDate:"+1w",changeMonth:true,altField:"#from",altFormat:"yy-mm-dd"}).on("change",function(){f.datepicker("option","minDate",c(this))});if(a("#from").val()){a("#fromSelect").datepicker("setDate",moment(a("#from").val()).toDate())}var f=a("#toSelect").datepicker({defaultDate:"+1w",changeMonth:true,altFormat:"yy-mm-dd",altField:"#to"}).on("change",function(){g.datepicker("option","maxDate",c(this))});if(a("#to").val()){a("#toSelect").datepicker("setDate",moment(a("#to").val()).toDate())}function c(k){var j;try{var h=a(k).datepicker("option","dateFormat");j=a.datepicker.parseDate(h,k.value)}catch(i){j=null}return j}a("#dateSelect").datepicker({defaultDate:"+1w",changeMonth:true,altFormat:"yy-mm-dd",altField:"#inputDate"});if(a("#inputDate").val()){a("#dateSelect").datepicker("setDate",moment(a("#inputDate").val()).toDate())}a("#dateStart").datepicker({defaultDate:"+1w",changeMonth:true,altFormat:"yy-mm-dd",altField:"#inputStart"});if(a("#inputStart").val()){a("#dateStart").datepicker("setDate",moment(a("#inputStart").val()).toDate())}a("#dateEnd").datepicker({defaultDate:"+1w",changeMonth:true,altFormat:"yy-mm-dd",altField:"#inputEnd"});if(a("#inputEnd").val()){a("#dateEnd").datepicker("setDate",moment(a("#inputEnd").val()).toDate())}a("span.closebtn").on("click",function(){a(this).parent().hide()});if(a("#financeSummaryChart").length){var b=new Chart(a("#financeSummaryChart"),{data:{labels:a("#financeSummaryChart").data("labels"),datasets:[{label:a("#financeSummaryChart").data("label1"),data:a("#financeSummaryChart").data("values1"),backgroundColor:"#FF0000"},{label:a("#financeSummaryChart").data("label2"),data:a("#financeSummaryChart").data("values2"),backgroundColor:"#008800"}]},type:"bar",options:{responsive:true,maintainAspectRatio:false,scales:{yAxes:[{ticks:{min:0}}]}}})}var d=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"];if(a("#financeDetailChart").length){var b=new Chart(a("#financeDetailChart"),{data:{labels:a("#financeDetailChart").data("labels"),datasets:[{backgroundColor:d,data:a("#financeDetailChart").data("values")}]},type:"pie",options:{responsive:true,maintainAspectRatio:false,legend:{position:"top"}}})}a("#finance_table").DataTable({language:{url:jsObject.datatable},paging:true,info:true,responsive:true,autoWidth:false,order:[[0,"desc"],[1,"desc"]],columnDefs:[{targets:[0],render:function(i,h,j){return moment(i).format(i18n.dateformatJS)},responsivePriority:-1},{targets:[6,7],orderable:false,responsivePriority:3},{targets:[1,3],responsivePriority:2},{targets:[2],responsivePriority:1},{targets:[4],responsivePriority:-1},{targets:[5],render:function(i,h,j){if(h==="display"||h==="filter"){return i+" "+i18n.currency}return i},responsivePriority:-1}],processing:true,serverSide:true,ajax:jsObject.finances_table,deferLoading:jsObject.datacount});a("#category_table").DataTable({paging:true,info:true,columnDefs:[{targets:[1,2],orderable:false}],language:{url:jsObject.datatable},responsive:true,autoWidth:false});a("#monthly_table").DataTable({paging:false,info:false,order:[[3,"desc"]],columnDefs:[{targets:[6,7],orderable:false},{targets:[1,2],render:function(i,h,j){return i?moment(i).format(i18n.dateformatJS):""}},{targets:[5],render:function(i,h,j){if(h==="display"||h==="filter"){return i+" "+i18n.currency}return i},responsivePriority:-1}],language:{url:jsObject.datatable},responsive:true,autoWidth:false});a("#users_table").DataTable({paging:false,info:false,columnDefs:[{targets:[5,6,7],orderable:false}],language:{url:jsObject.datatable},responsive:true,autoWidth:false});a("#fuel_table").DataTable({order:[[0,"desc"]],columnDefs:[{targets:[9,10],orderable:false},{targets:[0],render:function(i,h,j){return moment(i).format(i18n.dateformatJS)}}],dom:'<"top"f>rt<"bottom"ip>',language:{url:jsObject.datatable},paging:true,info:true,responsive:true,autoWidth:false,processing:true,serverSide:true,ajax:jsObject.fuel_table,deferLoading:jsObject.datacount});a("#stats_table").DataTable({language:{url:jsObject.datatable},paging:true,order:[[0,"desc"],[1,"desc"]],columnDefs:[{targets:[0],render:function(i,h,j){return i},responsivePriority:-1},{targets:[1,2,3],render:function(i,h,j){if(h==="display"||h==="filter"){return i+" "+i18n.currency}return i}},{targets:[3],orderable:false}],responsive:true,autoWidth:false});a("#stats_year_table").DataTable({language:{url:jsObject.datatable},paging:true,order:[[0,"desc"]],columnDefs:[{targets:[0],render:function(i,h,j){if(h==="display"||h==="filter"){return moment().month(i-1).format("MMMM")}return i},responsivePriority:-1},{targets:[1,2,3],render:function(i,h,j){if(h==="display"||h==="filter"){return i+" "+i18n.currency}return i},responsivePriority:-1}],responsive:true,autoWidth:false});a("#stats_month_table").DataTable({language:{url:jsObject.datatable},paging:true,order:[[2,"desc"],[0,"asc"]],responsive:true,autoWidth:false,columnDefs:[{targets:[3],orderable:false},{targets:[0],responsivePriority:-1},{targets:[2],render:function(i,h,j){if(h==="display"||h==="filter"){return i+" "+i18n.currency}return i},responsivePriority:-1}]});a("#stats_cat_table").DataTable({language:{url:jsObject.datatable},paging:true,order:[[1,"desc"],[0,"asc"]],responsive:true,autoWidth:false,columnDefs:[{targets:[2,3],orderable:false},{targets:[0],responsivePriority:-1},{targets:[1],render:function(i,h,j){if(h==="display"||h==="filter"){return i+" "+i18n.currency}return i},responsivePriority:-1}]});a("#cars_table").DataTable({paging:true,info:true,columnDefs:[{targets:[1,2],orderable:false}],language:{url:jsObject.datatable},responsive:true,autoWidth:false});a("#boards_table").DataTable({paging:true,info:true,columnDefs:[{targets:[1,2],orderable:false}],language:{url:jsObject.datatable},responsive:true,autoWidth:false});if(a("#checkboxCommon").length){a("#checkboxCommon").on("change",function(){a("#commonValue").toggle();var h=a("#inputValue").val();if(h){if(a(this).is(":checked")){a("#inputCommonValue").val(h);a("#inputValue").val(h/2)}else{a("#inputValue").val(a("#inputCommonValue").val());a("#inputCommonValue").val(null)}}})}})})(jQuery);