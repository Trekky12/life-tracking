"use strict";const body=document.getElementsByTagName("BODY")[0],header=document.getElementById("masthead"),menuButton=document.getElementById("menu-toggle"),navigation=document.getElementById("site-navigation"),navigationOverlay=document.getElementById("navigation-overlay"),FBAs=document.querySelectorAll(".button-add-item"),boardSidebar=document.getElementById("board-sidebar"),wasMobile=isMobile();if(document.addEventListener("DOMContentLoaded",(t=>{scrollToTab(document.querySelector("a.tabbar-tab.active"),!0)})),/^(iPhone|iPad|iPod)/.test(navigator.platform)&&body.classList.add("ios"),navigation&&header&&navigationOverlay){let t=navigation.getElementsByTagName("ul")[0],e=.8,a=256;function n(){menuButton.setAttribute("aria-expanded","true"),t.setAttribute("aria-expanded","true"),menuButton.classList.add("open"),body.classList.add("navigation-drawer-toggled"),isMobile()&&(navigationOverlay.classList.add("visible"),navigationOverlay.style.removeProperty("transition-duration"),navigationOverlay.style.opacity=e),navigation.classList.add("animate"),navigation.style.removeProperty("transform"),navigation.classList.add("toggled"),g=a}function o(){menuButton.setAttribute("aria-expanded","false"),t.setAttribute("aria-expanded","false"),menuButton.classList.remove("open"),body.classList.remove("navigation-drawer-toggled"),navigationOverlay.style.removeProperty("transition-duration"),navigationOverlay.style.opacity=0,setTimeout((function(t){navigationOverlay.classList.remove("visible")}),200),navigation.classList.add("animate"),navigation.style.removeProperty("transform"),navigation.classList.remove("toggled"),g=0}menuButton.addEventListener("click",(function(t){navigation.classList.contains("toggled")?o():n(),isMobile()?setCookie("navigationdrawer_desktophidden",0):navigation.classList.contains("toggled")?setCookie("navigationdrawer_desktophidden",1):setCookie("navigationdrawer_desktophidden",0)})),navigationOverlay.addEventListener("click",(function(t){menuButton.click()})),isMobile()&&(document.addEventListener("touchstart",m,!1),document.addEventListener("touchmove",y,!1),document.addEventListener("touchend",L,!1));let i=null,s=null,r=null,l=null,d=null,c=null,u=20,v=50,b=20,g=null,f=!1;function m(t){const e=t.touches[0];i=e.clientX,r=e.clientY,d=i<u&&!navigation.classList.contains("toggled"),c=navigation.classList.contains("toggled"),f=!1}function y(t){if(!i)return;let e=s;s=t.touches[0].clientX,l=t.touches[0].clientY;let a=navigation.classList.contains("toggled"),n=Math.abs(i-s);Math.abs(r-l);if(f=!1,a&&n<v)return void(f=!0);if(!a&&n<b)return void(f=!0);let o=s,u=i<s;u&&d&&(p(o),e&&e>s&&(i=e,c=!0)),!u&&c&&(p(o),e&&e<s&&(i=e,d=!0))}function p(t){t>a&&(t=a),t<0&&(t=0),navigation.classList.remove("animate"),navigation.style.transform="translateX("+(-a+t)+"px)",g=t;let n=t/a;n<=0&&(n=0),n>=1&&(n=1),navigationOverlay.classList.add("visible"),navigationOverlay.style.transitionDuration="0s",navigationOverlay.style.opacity=n*e}function L(t){if(!i||!s)return;let e=navigation.classList.contains("toggled");f&&g>0&&(e?n():o()),f||(e?s<i&&c?o():n():s>i&&d?n():o()),i=null,d=null,c=null,s=null}function h(){!wasMobile&&isMobile()&&(navigation.classList.remove("toggled"),body.classList.remove("navigation-drawer-toggled"),setCookie("navigationdrawer_desktophidden",0))}window.addEventListener("resize",h);let E=window.pageYOffset;document.addEventListener("scroll",(function(){var t=window.pageYOffset;if(Math.abs(E-t)<10)return;let e=header.offsetHeight;E<=t?header.style.top=-e+"px":header.style.removeProperty("top"),header.style.top=E<=t?-e+"px":"0",FBAs.forEach((function(e){E<=t?e.style.bottom="-100px":e.style.removeProperty("bottom")})),boardSidebar&&(boardSidebar.style.top=E<=t?"0":e+"px"),E=t}))}const rippleIcons=document.querySelectorAll(".icon-ripple-wrapper");rippleIcons.forEach((function(t){isTouchEnabled()?t.addEventListener("touchstart",(function(e){t.classList.add("ripple-effect-start"),setTimeout((function(){t.classList.remove("ripple-effect-start"),t.classList.add("ripple-effect-end"),setTimeout((function(){t.classList.remove("ripple-effect-end"),t.focus()}),200)}),300)})):(t.addEventListener("mousedown",(function(e){t.classList.add("ripple-effect-start")})),t.addEventListener("mouseup",(function(e){t.classList.remove("ripple-effect-start"),t.classList.add("ripple-effect-end"),setTimeout((function(){t.classList.remove("ripple-effect-end")}),200)})))}));const tabbarScrollArea=document.querySelector(".tabbar-scrollarea"),tabbarTabs=document.querySelectorAll("a.tabbar-tab");function scrollToTab(t,e=!1){if(!t)return;let a="smooth";e&&(tabbarScrollArea.parentNode.style.height="50px",body.classList.add("has-tabbar"),a="instant");let n=t.offsetWidth,o=t.offsetLeft,i=(tabbarScrollArea.offsetWidth-n)/2,s=0;isMobile()||(s=0);let r=o-i+s;tabbarScrollArea.scrollTo({left:r,behavior:a})}tabbarTabs.forEach((function(t){t.addEventListener("click",(function(e){tabbarTabs.forEach((function(t){t.classList.remove("active")})),t.classList.add("active"),scrollToTab(t,!1),setTimeout((function(){tabbarScrollArea.parentNode.style.height=0,body.classList.remove("has-tabbar")}),200)}))}));const tabbarScrollButtons=document.querySelectorAll(".tabbar-tab-scroll-btn");tabbarScrollButtons.forEach((function(t){t.addEventListener("click",(function(e){tabbarScrollArea.style.scrollBehavior="smooth","left"==t.dataset.type?tabbarScrollArea.scrollLeft-=50:tabbarScrollArea.scrollLeft+=50}))}));