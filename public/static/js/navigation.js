"use strict";const body=document.getElementsByTagName("BODY")[0],header=document.getElementById("masthead"),menuButton=document.getElementById("menu-toggle"),navigation=document.getElementById("site-navigation"),navigationOverlay=document.getElementById("navigation-overlay");if(/^(iPhone|iPad|iPod)/.test(navigator.platform)&&body.classList.add("ios"),navigation&&header&&navigationOverlay){let t=navigation.getElementsByTagName("ul")[0],n=.8,e=256;document.querySelector("#menu-toggle .bar:nth-child(1)"),document.querySelector("#menu-toggle .bar:nth-child(2)"),document.querySelector("#menu-toggle .bar:nth-child(3)"),document.querySelector("#menu-toggle .bar:nth-child(4)");function openMenu(){resetCross(),menuButton.setAttribute("aria-expanded","true"),t.setAttribute("aria-expanded","true"),menuButton.classList.add("open"),body.classList.add("mobile-navigation-open"),navigationOverlay.classList.add("visible"),navigationOverlay.style.removeProperty("transition-duration"),navigationOverlay.style.opacity=n,navigation.classList.add("animate"),navigation.style.transform="translateX(0px)",navigation.classList.add("toggled"),v=e}function closeMenu(){resetCross(),menuButton.setAttribute("aria-expanded","false"),t.setAttribute("aria-expanded","false"),menuButton.classList.remove("open"),body.classList.remove("mobile-navigation-open"),navigationOverlay.style.removeProperty("transition-duration"),navigationOverlay.style.opacity=0,setTimeout((function(t){navigationOverlay.classList.remove("visible")}),200),navigation.classList.add("animate"),navigation.style.removeProperty("transform"),navigation.classList.remove("toggled"),v=0}function resetCross(){}menuButton.addEventListener("click",(function(t){navigation.classList.contains("toggled")?closeMenu():openMenu()})),navigationOverlay.addEventListener("click",(function(t){menuButton.click()})),document.addEventListener("touchstart",handleTouchStart,!1),document.addEventListener("touchmove",handleTouchMove,!1),document.addEventListener("touchend",handleTouchEnd,!1);let a=null,i=null,o=null,s=null,l=null,u=null,r=20,d=50,c=20,v=null,g=!1;function handleTouchStart(t){const n=t.touches[0];a=n.clientX,o=n.clientY,l=window.innerWidth-a<r&&!navigation.classList.contains("toggled"),u=navigation.classList.contains("toggled"),g=!1}function handleTouchMove(t){if(!a)return;let n=i;i=t.touches[0].clientX,s=t.touches[0].clientY;let e=navigation.classList.contains("toggled"),r=Math.abs(a-i);Math.abs(o-s);if(g=!1,e&&r<d)return void(g=!0);if(!e&&r<c)return void(g=!0);let v=window.innerWidth-i,m=a>i;m&&l&&(moveNavigationToPosition(v),n&&n<i&&(a=n,u=!0)),!m&&u&&(moveNavigationToPosition(v),n&&n>i&&(a=n,l=!0))}function moveNavigationToPosition(t){t>e&&(t=e),t<0&&(t=0),navigation.classList.remove("animate"),navigation.style.transform="translateX("+(e-t)+"px)",v=t;let a=t/e;a<=0&&(a=0),a>=1&&(a=1),navigationOverlay.classList.add("visible"),navigationOverlay.style.transitionDuration="0s",navigationOverlay.style.opacity=a*n}function handleTouchEnd(t){if(!a||!i)return;let n=navigation.classList.contains("toggled");g&&v>0&&(n?openMenu():closeMenu()),g||(n?a<i&&u?closeMenu():openMenu():a>i&&l?openMenu():closeMenu()),a=null,l=null,u=null,i=null}}