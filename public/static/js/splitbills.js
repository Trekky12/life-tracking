"use strict";function equal_splitting(e,l){let t=[].slice.call(e).sort(function(){return.5-Math.random()}),n=t.length;t.forEach(function(e){let t=(l/n).toFixed(2);e.value=t,n--,l-=t})}const splitbillsForm=document.getElementById("splitbillsBillsForm"),buttons=document.querySelectorAll(".splitbill_btn");if(splitbillsForm){let e=splitbillsForm.querySelectorAll("input.balance_paid"),l=splitbillsForm.querySelectorAll("input.balance_spend"),t=splitbillsForm.querySelector("#inputValue");t.addEventListener("change",function(t){e.forEach(function(e){e.value=0}),l.forEach(function(e){e.value=0})}),buttons.forEach(function(n,a){n.addEventListener("click",function(a){a.preventDefault();let i=n.dataset.type,o=n.dataset.id,s=parseFloat(t.value);if(s>0)switch(i){case"paid_same":equal_splitting(e,s);break;case"paid_person":e.forEach(function(e){e.value=0}),splitbillsForm.querySelector('input[name="balance['+o+'][paid]"]').value=s;break;case"spend_same":equal_splitting(l,s);break;case"spend_person":l.forEach(function(e){e.value=0}),splitbillsForm.querySelector('input[name="balance['+o+'][spend]"]').value=s}})}),splitbillsForm.addEventListener("submit",function(n){let a=0,i=0;e.forEach(function(e){let l=Number.parseFloat(e.value);console.log(l),l&&(a+=l)}),l.forEach(function(e){let l=Number.parseFloat(e.value);l&&(i+=l)});let o=parseFloat(t.value).toFixed(2);o===a.toFixed(2)&&o===i.toFixed(2)||(n.preventDefault(),console.log(o),console.log(a),console.log(i),alert(lang.splitbills_numbers_wrong))})}