"use strict";const loadingIconTimesheetNotice=document.querySelector("#loadingIconTimesheetNotice"),timesheetNoticeForm=document.querySelector("#timesheetNoticeForm"),timesheetNotice=timesheetNoticeForm.querySelector("#inputNotice");fetch(jsObject.timesheets_sheets_notice_data,{method:"GET",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){loadingIconTimesheetNotice.classList.add("hidden"),timesheetNoticeForm.classList.remove("hidden"),"error"!==e.status&&e.entry&&(timesheetNotice.value=e.entry.notice)})),timesheetNoticeForm.addEventListener("submit",(function(e){e.preventDefault();let t=document.querySelector("#alertError"),n=t.querySelector("#alertErrorDetail");t.classList.add("hidden"),n.innerHTML="",document.getElementById("loading-overlay").classList.remove("hidden");var o={};o.notice=timesheetNotice.value,getCSRFToken().then((function(e){return o.csrf_name=e.csrf_name,o.csrf_value=e.csrf_value,fetch(timesheetNoticeForm.action,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})})).then((function(e){return e.json()})).then((function(e){"success"===e.status?(allowedReload=!0,window.location.reload()):(document.getElementById("loading-overlay").classList.add("hidden"),n.innerHTML=e.message,t.classList.remove("hidden"))})).catch((function(e){console.log(e),document.getElementById("loading-overlay").classList.add("hidden"),n.innerHTML=lang.request_error,t.classList.remove("hidden")}))}));