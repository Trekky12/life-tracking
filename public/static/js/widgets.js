"use strict";const requestWidgets=document.querySelectorAll(".request_widget");function load(e){let a=e.dataset.id;return fetch(jsObject.frontpage_widget_request+a,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){e.innerHTML=a.data})).catch((function(e){console.log(e)}))}function createEFATable(e){var a=document.createElement("table");a.classList.add("small","table"),a.border="0";var t=e.departureList;for(var r in t){var n=createEFADataRow(t[r]);a.appendChild(n)}return a}function createEFADataRow(e){var a=document.createElement("tr"),t=document.createElement("td");t.className="departures__departure__line",t.innerHTML='<span class="departures__departure__line__number xsmall">'+e.servingLine.number+"</span>",a.appendChild(t);var r=document.createElement("td");r.innerHTML='<span class="departures__departure__direction small">'+e.servingLine.direction+"</span>",a.appendChild(r);var n=new Date,d=0,i=n=new Date(e.dateTime.year,e.dateTime.month-1,e.dateTime.day,e.dateTime.hour,e.dateTime.minute,0);if(e.realDateTime){var s=new Date(e.realDateTime.year,e.realDateTime.month-1,e.realDateTime.day,e.realDateTime.hour,e.realDateTime.minute,0);n=s,d=(s-i)/1e3/60}else n=i;var l=n.getHours(),u=n.getMinutes();u<10&&(u="0"+u);var c="";e.servingLine.delay>0?c=e.servingLine.delay:0!==d&&(c=d);var o=document.createElement("td");o.className="departures__departure",o.innerHTML='<span class="departures__departure__time-relative small bright">'+l+":"+u+"</span>",a.appendChild(o);var m=document.createElement("td");return m.className="departures__delay",c>0&&(m.innerHTML='<span class="departures__delay__time xsmall">+ '+c+"</span>"),a.appendChild(m),a}requestWidgets.forEach((function(e){load(e);var a=e.dataset.reload;a>0&&setInterval((function(){load(e)}),1e3*a)}));