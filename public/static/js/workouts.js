"use strict";const exercisesSelected=document.querySelector("#exercises_selected .content");document.addEventListener("click",(function(e){let t=e.target.closest(".exercise .plus"),s=e.target.closest(".exercise .minus"),c=e.target.closest(".exercise .headline"),r=e.target.closest(".exercise");if(s&&(e.preventDefault(),r.remove()),t){e.preventDefault();let t=exercisesSelected.childElementCount,s=r.cloneNode(!0);s.classList.add("selected"),s.querySelector(".plus").classList.add("hidden"),s.querySelector(".minus").classList.remove("hidden"),s.querySelector(".handle").classList.remove("hidden"),s.querySelector(".sets").classList.remove("hidden");let c=document.createElement("input");c.type="hidden",c.name="exercises["+t+"][id]",c.value=r.dataset.id,s.appendChild(c),s.querySelectorAll(".sets input").forEach((function(e,s){e.setAttribute("name",e.name.replace(/exercises\[[^\]]*\]/,"exercises["+t+"]")),e.removeAttribute("disabled")})),exercisesSelected.appendChild(s)}c&&(e.preventDefault(),e.target.parentElement.classList.toggle("active"))})),new Sortable(exercisesSelected,{group:{name:"exercise"},draggable:".exercise.selected",handle:".handle",dataIdAttr:"data-id",onUpdate:function(e){this.toArray();exercisesSelected.querySelectorAll(".exercise").forEach((function(e,t){e.querySelectorAll("input").forEach((function(e){e.setAttribute("name",e.name.replace(/exercises\[[^\]]*\]/,"exercises["+t+"]"))}))}))}});