"use strict";document.addEventListener("click",(function(e){let t=e.target.closest(".add_set"),s=e.target.closest(".remove_set");if(t){let t=e.target.closest(".exercise"),s=t.querySelector(".set-list"),n=t.querySelector(".set-dummy"),r=t.querySelectorAll(".set").length,c=n.cloneNode(!0);c.classList.remove("hidden"),c.classList.remove("set-dummy"),c.querySelector(".set-nr").innerHTML=r,c.querySelectorAll("input").forEach((function(e,t){e.setAttribute("name",e.name.replace("dummy",r-1)),e.removeAttribute("disabled")})),s.appendChild(c)}if(s){let t=e.target.closest(".exercise").querySelectorAll(".set:not(.set-dummy)");if(t.length>0){t[t.length-1].remove()}}}));const sessionExercises=document.querySelector("#sessionExercises");document.addEventListener("click",(function(e){let t=e.target.closest(".minus");if(t){e.preventDefault();let s=t.parentElement.parentElement;if("day"===s.dataset.category){let e=[];for(e.push(s),s=s.nextElementSibling;s&&"day"!==s.dataset.category;)e.push(s),s=s.nextElementSibling;e.forEach((function(e){e.remove()}))}else s.remove()}}));const addExerciseBtn=document.querySelector("#addExercise"),addExerciseSelect=document.querySelector("#addExerciseToSession"),addExerciseSetNr=document.querySelector("#setCount");addExerciseBtn.addEventListener("click",(function(e){let t=addExerciseSelect.value,s=addExerciseSetNr.value,n=sessionExercises.childElementCount;return fetch(jsObject.workouts_exercises_data+"?exercise="+t+"&sets="+s+"&count="+n,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"error"!==e.status&&sessionExercises.insertAdjacentHTML("beforeend",e.data)})).catch((function(e){console.log(e)}))}));